<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <title>NOCT.U | CADASTRO</title>
  <link rel="stylesheet" href="css/cadastro.css">
</head>

<body>
  <div class="fundo">
    <div class="caixao">
      <div class="tela">
        <div class="infoTela">
          <span>Informações da Empresa</span>
        </div>
        <div class="descTela">
          <span>Insira as informações sobre a sua empresa</span>
        </div>
        <div class="camposTela">
          <div class="linhaCampo">
            <input class="campo" placeholder="Razão Social" id="ipt_razao_social">
            <input class="campo" placeholder="CNPJ" id="ipt_cnpj">
          </div>
          <div class="linhaCampo">
            <input class="campo" placeholder="Email" id="ipt_email">
            <input class="campo" placeholder="Telefone Celular" id="ipt_telefone">
          </div>
          <div class="linhaCampo">
            <input class="campo" placeholder="Senha" id="ipt_senha">
            <input class="campo" placeholder="Confirme sua senha" id="ipt_confirmar_senha">
          </div>
          <div class="logoCanto">
            <img src="assets/icon/favicon2.svg">
          </div>
        </div>
      </div>
      <div class="botoes">
        <div class="voltar">
          <img src="assets/seta-login.png" >
          <a id="voltar" href="index.html">
            <span>Voltar ao Início</span>
          </a>
        </div>
        <div class="avancar">
          <a id="avancar">
            <span onclick="avancar()">AVANÇAR</span>
          </a>
        </div>
      </div>
    </div>
  </div>

</body>

</html>
<script>
  function avancar(){
    //recuperando dados dos inputs
    var razaoSocial = ipt_razao_social.value;
    var cnpj = ipt_cnpj.value;
    var email = ipt_email.value;
    var telefone = ipt_telefone.value;
    var senha = ipt_senha.value;
    var confirmacaoSenha = ipt_confirmar_senha.value;

    //vetor de dados
    var dadosCad1 = [razaoSocial,cnpj,email,telefone,senha,confirmacaoSenha];
    console.log(dadosCad1);

    //transformando em JSON e salvar em memória cache 
    var jsonDados = JSON.stringify(dadosCad1);
    console.log("JSON: " + jsonDados)

    localStorage.setItem('dadosCad1', jsonDados);

    //mandando para a pagina 2
    window.location.href = "cadastro2.html";

  }

  //caso o usuário volte da tela 2, essa verificação devolve os dados que ele digitou
  if(typeof localStorage.getItem("dados1") != 'undefined'){
    console.log("Estou aqui")
    var jsonDados = localStorage.getItem('dados1');
    dadosCad1 = JSON.parse(jsonDados);
    var razaoSocialID = document.getElementById('ipt_razao_social');
    var cnpjID = document.getElementById('ipt_cnpj');
    var emailID = document.getElementById('ipt_email');
    var telefoneID = document.getElementById('ipt_telefone');
    var senhaID = document.getElementById('ipt_senha');
    var confirmarID = document.getElementById('ipt_confirmar_senha');

    razaoSocialID.value = dadosCad1[0];
    cnpjID.value = dadosCad1[1];
    emailID.value = dadosCad1[2];
    telefoneID.value = dadosCad1[3];
    senhaID.value = dadosCad1[4];
    confirmarID.value = dadosCad1[5];
  }
</script>